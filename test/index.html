<!DOCTYPE html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Testing</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- <script src="https://cdn.tailwindcss.com"></script> -->

        <link rel="apple-touch-icon" href="/apple-touch-icon.png">
		<script defer src="../bin/RapidElements.js" type="text/javascript"></script>
    </head>
    <body>
		<template rapid-name="lii" >
			<li>
				<p>{children}</p>
				<button onclick="{onclick}" >
					tabort
				</button>
			</li>
		</template>

		<template rapid-name='counter' >
			<script type="text/javascript">
			 class counter extends Component{
				 onComponentLoad(){
					 this.names = [];
					 this.value = "";
				 }
				 getList(){
					 let list = ""
					 for(let i = 0; i < this.names.length;i++){
						 list+=`<lii  onclick="${this.self}.names.pop();${this.self}.rerender()" >${this.names[i]}</lii>\n`
					 }
					 console.log("list",list)
					 return list;
				 }
				 setvalue(e){
					 this.value=e.target.value;
				 }
				 down(event){
					 if (event.key === 'Enter') {
						 event.preventDefault(); // Optional: Prevent the default action (e.g., form submission)
						 console.log('Enter key pressed!');
						 this.names.push(this.value)
						 this.value = ""
						 this.rerender()
						 //rapidRefresh();
						 event.target.value = ""
					}

				}
			 }
			</script>

			<div style="display:flex;flex-direction:column" >
				<input onkeydown="self.down(event)" oninput="self.setvalue(event)" />
				<button onclick="self.names.push(self.value);self.value=0;self.rerender()" >
					Laggtill
				</button>
			</div>
			<ul>
				{{self.getList()}}
			</ul>
		</template>

		<counter >Tryck mig</counter>

    </body>
</html>
