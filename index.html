<!doctype html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>Untitled</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Place favicon.ico in the root directory -->
    <script
      defer
      type="text/javascript"
      src="https://spynets.github.io/RapidElements/bin/RapidElements.js"
    ></script>
  </head>

  <script type="text/javascript">
    const paths = ["Home", "Docs"];

    function showPageByPath(path) {
      for (let index = 0; index < paths.length; index++) {
        document.getElementById(paths[index]).style.display = "none";
        if (paths[index].toLowerCase() === path.toLowerCase()) {
          document.getElementById(paths[index]).style.display = "block";
          activeIndex = index;
          window.history.pushState(
            { id: paths[index] },
            paths[index],
            "/" + paths[index].toLowerCase(),
          );
        }
      }
    }

    function handlePopState(event) {
      const stateId = event.state ? event.state.id : null;
      if (stateId) {
        showPageByPath(stateId);
      } else {
        showPageByPath(paths[0]); // Default to the first page
      }
    }

    // Initial page load handling based on the URL path
    window.addEventListener("load", () => {
      const path = window.location.pathname.replace("/", "");
      if (paths.map((p) => p.toLowerCase()).includes(path.toLowerCase())) {
        showPageByPath(path);
      } else {
        showPageByPath(paths[0]); // Default to the first page
      }
    });

    window.addEventListener("popstate", handlePopState);

    // Function to navigate between pages programmatically
    function navPage(a) {
      showPageByPath(paths[a].toLowerCase());
    }

    // Ensure initial state is set correctly
    window.history.replaceState(
      { id: paths[0] },
      paths[0],
      "/" + paths[0].toLowerCase(),
    );
  </script>

  <script type="text/javascript"></script>
  <body>
    <template rapid-name="router">
      <script type="text/javascript">
        class Router extends Component {
          onComponentLoad() {
            console.log(this.props);
          }
          static navigate(path) {
            console.log(path);
          }
        }
      </script>
      <div>{children}</div>
    </template>
    <template rapid-name="page">
      <div id="rapid-page-{path}">{children}</div>
    </template>

    <button onclick="Router.navigate('home')">1</button>
    <button onclick="Router.navigate('docs')">2</button>

    <router>
      <page path="Home">
        <div class="bg-red-400 p-2">
          <h1>Page 1</h1>
        </div>
      </page>

      <page path="Docs">
        <div class="bg-red-400 p-2">
          <h1>Page 2</h1>
        </div>
      </page>
    </router>
  </body>
</html>
